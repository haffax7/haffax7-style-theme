// 1. 공통 너비 및 헤더 정렬
$theme-max-width: 1150px; 

@media screen and (min-width: 1100px) {
  .d-header {
    display: flex !important;
    justify-content: center !important;
    .wrap {
      width: $theme-max-width !important;
      max-width: $theme-max-width !important;
      margin: 0 auto !important;
      display: flex !important;
      justify-content: space-between !important;
    }
  }

  // 2. 3단 그리드 고정 (오른쪽 섹션 유지)
  .navigation-topics, .categories-list, .tags-page {
    #main-outlet-wrapper {
      display: grid !important;
      grid-template-columns: 220px 600px 300px !important;
      grid-template-areas: 
        "sidebar main-list right-side"
        ". custom-footer ." !important; 
      gap: 0 15px !important;
      width: $theme-max-width !important;
      margin: 0 auto !important;
      align-items: start !important;
    }
    #main-outlet { grid-area: main-list !important; width: 600px !important; padding-top: 0 !important; }
    .before-main-outlet-connector, .haffax7-right-sidebar-target { 
      display: block !important; 
      grid-area: right-side !important; 
    }
  }

  // 3. 글 리스트 구조 개편 (아바타 좌측 + 제목 + 카테고리/시간 통합)
  .topic-list-body {
    .topic-list-item {
      display: flex !important;
      align-items: flex-start !important; // 상단 정렬
      padding: 15px 0 !important;
      border-bottom: 1px solid #f0f0f0 !important;

      // [1] 좌측 아바타
      .posters {
        order: -1 !important;
        width: 45px !important;
        margin-right: 12px !important;
        border: none !important;
        padding: 0 !important;
        a:not(:first-child) { display: none !important; }
        img { width: 36px !important; height: 36px !important; border-radius: 50% !important; }
      }

      // [2] 중앙 제목 및 메타 정보 (카테고리 + 시간)
      .main-link {
        order: 1 !important;
        flex: 1 !important;
        border: none !important;
        padding: 0 !important;
        min-width: 0 !important;
        display: flex !important;
        flex-direction: column !important;
        gap: 5px !important;

        .link-bottom-line {
          display: flex !important;
          align-items: center !important;
          gap: 10px !important; // 카테고리와 시간 사이 공백
          font-size: 0.85rem !important;
        }
      }

      // [3] 우측 끝에 있던 시간을 제목 아래로 강제 이동 시각화
      // 실제 HTML 구조상 우측에 있는 시간(num.activity)을 숨기고 
      // 제목 영역의 갱신 시간 정보를 활용하거나 아래처럼 재배치합니다.
      .num.activity {
        order: 1 !important; // 제목 옆으로 순서 변경
        width: auto !important;
        margin-left: 10px !important;
        border: none !important;
        padding: 0 !important;
        font-size: 0.82rem !important;
        color: #919191 !important;
        
        // "일자리 1시간전" 형태를 위해 float 해제 및 인라인화
        display: inline-flex !important;
        
        a { color: #919191 !important; }
      }

      // 나머지 정보(댓글, 조회수)는 필요 시 숨기거나 작게 배치
      .posts, .views {
        order: 3 !important;
        width: 50px !important;
        text-align: right !important;
        border: none !important;
        font-size: 0.8rem !important;
        color: #b3b3b3 !important;
      }
    }
  }

  // 테이블 헤더 숨기기
  .topic-list-header { display: none !important; }

  // 사이드바 및 푸터 설정 유지
  .sidebar-wrapper {
    grid-area: sidebar !important;
    position: sticky !important; top: 80px !important;
    .sidebar-sections { padding-top: 0 !important; }
  }
}
